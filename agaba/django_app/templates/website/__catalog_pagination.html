<nav id="showmore_placeholder" class="catalog_pagination" aria-label="catalogPagination">
    <div class="pagination_select show">
        {% if products.has_next %}
            <button type="button" class="pagination-btn long-btn dark-btn" href="?page={{ products.next_page_number }}" onclick="fetchMain(event, true)" class="page_link next long-btn white-btn">
                <strong>Показать еще</strong>
            </button>
        {% endif %}
    </div>
    <ul class="pagination-list">
        {% if products.has_previous %}
            {% if products.number > 3 %}
                <li class="page-item">
                    <a class="page-link" href="?page=1" >1</a>
                </li>
                {% if products.number > 4 %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ products.previous_page_number }}" >...</a>
                </li>
                {% endif %}
            {% endif %}
        {% endif %}

        
        {% for num in products.paginator.page_range %}
            {% if products.number == num %}
                <li class="page-item current">
                    <a class="page-link" href="?page={{ num }}" >{{ num }}</a>
                </li>
            {% elif num > products.number|add:'-3' and num < products.number|add:'3' %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ num }}" >{{ num }}</a>
                </li>
            {% endif %}
        {% endfor %}


        {% if products.has_next %}
            {% if products.number < products.paginator.num_pages|add:'-3' %}
                <li class="page-item">
                    <a class="page-link" href="?page={{ products.next_page_number }}" >...</a>
                </li>
                <li class="page-item">
                    <a class="page-link" href="?page={{ products.paginator.num_pages }}" >{{ products.paginator.num_pages }}</a>
                </li>
            {% elif products.number < products.paginator.num_pages|add:'-2' %}
                <li class="page-item" >
                    <a class="page-link" href="?page={{ products.paginator.num_pages }}" >{{ products.paginator.num_pages }}</a>
                </li>
            {% endif %}
        {% endif %}

    </ul>
    <div class="pagination_page-links">
        {% if products.has_previous %}
            <a class="page_link prev long-btn white-btn" href="?page={{ products.previous_page_number }}" >Предыдущая страница</a>
        {% endif %}
        {% if products.has_next %}
            <a  class="page_link next long-btn white-btn" href="?page={{ products.next_page_number }}" >Следующая страница</a>
        {% endif %}
    </div>
</nav>